# fighting-game-button-challenge
A tool to practice button inputs for fighting games on Windows. Ideal for leverless controllers in games like Street Fighter 6.

# 関連
[English README](README.md)

# どんなアプリか3行で説明
- 格ゲーのボタン練習アプリ
- ランダムでお題が表示される
- お題に合ったボタンを押すとスコアが入って次のお題が表示される

# 実装状況
- できること
    - 「アシストボタン + 必殺技ボタン を押せ！」などにチャレンジできます
        - 設定ファイルで任意のレバーとボタンの組み合わせを書けます
            - ボタンアサインやボタン名は任意です。ただし書くのは多少手間です
- できないこと
    - 「前 > 前 + DP」のようなシーケンスはできない
    - いろいろできない

# 少し詳しく
- button chalenge
    - 特徴
        - 常駐
            - 常駐型なので、練習したくなってレバーやボタンを入力した瞬間から使えます、1フレで使えます
            - レバーやボタンの入力があったときだけ最前面化します
            - 入力がなくなってから1秒で最背面化するので、邪魔になりません
            - 格ゲーをプレイ中は自動で最背面化するので、邪魔になりません
        - ランダム
            - mission成功ごとに、次のmissionがランダムで降ってきます
            - 予想外の局面にも即応できる柔軟さを鍛えよう
        - スコア
            - 10点獲得するまで練習しよう、など目安に利用できます
    - 動作確認した環境
        - Windows
        - XInput
        - アーケードコントローラー
            - レバーレスコントローラー（4ボタン + 10ボタン = 14ボタン）

# 使い方
- リポジトリをcloneしてください
- `button_challenge.bat` を実行してください
    - 終了はconsoleで`CTRL+C`
    - 設定ファイルは`button_challenge.toml`

# 検討中
- 左右ランダム、tomlの簡素化
    - button_challenge.toml に「左」or「右」で記載されているものは、ひとまず「右」で記載し、「左」を削除
    - button_challenge.toml `left_right = ['左', '右']`
    - play中は、left_right を使って、ランダム50%で左右反転
    - （alias実装後）左右のかわりに前後や123456789を記載可能に
- alias、`SA2`と`右 + 強 + 必`を両方表示

# 今後の予定
- button challenge
    - しばらくドッグフーディングしてから次を決めるつもり
    - 課題や予定は山盛りだがここに書くのは省略
        - 自分のやりたいやつをやる

# 課題
- わかりづらい
    - `button_challenge.bat`
        - 「アシストボタン + 必殺技ボタン を押せ！」などにチャレンジするアプリです。現在はこっちがほぼ本体です。
    - `command-challenge.bat`
        - 入力したボタンを表示するアプリです。（仮実装なので名前と実態が違う）
    - 対策
        - renameを検討中
- 入力の文言が直感的でないし、押した結果（報酬）の表示も直感的でない
    - 理想は、例えば
        - 入力の文言は「SA3溜まってる自分に、相手が飛び込んできたので、ワンボタンSA3」がわかるような画像
        - 押した結果は、SA3がヒットした画像
    - 現実的には
        - 現状の文言で様子見
    - 備忘
        - 効果音やエフェクト映像でジューシーにする等はそのうち
- project方針に迷いが出てきた
    - button challengeは別projectに切り分けたほうがいいかも
        - button challengeのほうは現実的な開発コストで実用になりそう
            - 現在ほぼ実用に近い位置づけでドッグフーディング中

# 今後
- ※最新状況を反映できてないかも
- mission
    - シーケンスを実現可能に
        - レバーレスコントローラー 236987412 を入力せよ！
    - 格ゲー 右に歩け！
        - ミス時はmissionの初手からやりなおし
            - 前提は、missionそれぞれが十分に分解されている運用なこと
                - ひとまずそれで決め。検討は後回し
- mission
    - タメmission、タメたら次stepへ。タメずに次にいくとミス
- 左右反転 mission
- 通し mission
    - 前に歩け！から、ドライブインパクト → 前ステ → アシストコンボ強 までをすべて成功させる。1つ成功するごとに次のmissionに進む。
    - 用途は、日々のトレモでランクマ前にやっているウォーミングアップのルーティーンを、手軽に構築して手軽に実践できる用など。
- より高度なmission

# ブレインストーミング
- 次、mission、シーケンス
    - printで検証していく
        - 状態遷移
            - list
                - idle → 入力ありred / 入力ありgreen
                - 入力ありred → （1秒経過で）idle
                - 入力ありgreen → （1秒経過で）idle / 入力ありgreen / 入力ありred / all green
                - all green → idle
        - test list ざっくり
            - ※mission : 「2 3 を入力せよ」
            - 初回 green
                - idle → （2で）入力ありgreen
                - 入力ありred → （2で）入力ありgreen
                - all green → （2で）入力ありgreen
            - 初回 red
                - idle → （3で）入力ありred
                - all green → （3で）入力ありred
                - 入力ありred → （3で）入力ありred
            - 2回目でred
                - idle（2が入力済み） → （1で）入力ありred
                - 入力ありgreen（2が入力済み） → （1で）入力ありred
            - 完走
                - idle（2が入力済み） → （3で）all green
                - 入力ありgreen（2が入力済み） → （3で）all green
        - ※状態に応じてbackground colorを、red, green, 色なし、を変更する
    - ※一歩ずつ、一歩を素早く
- 考え方、ゆっくり入力で正確性を優先、のちspeed up。楽器の練習と同じ
    - よって、入力時間制限を割り切ってカットして開発を進める
        - ひとまずそれで決め。検討は後回し
- mission time 計測、最頻値と中央値、json記録
    - まず用途を明確にしましょう
- mission分割モード
    - 例、モードonで、mission 41236を、前半mission 412と後半mission 236に分割
        - ※これは用途の例としてはいまいちだが、取り急ぎ
        - 前半missionを10回成功のち、後半missionを10回成功、のち全体mission 41236を10回成功でclear
    - 考え方、分割、分解。楽器の練習と同じ
- mission成功演出
    - display image 1sec を呼び出す
        - 素早く目的達成できそう

# このアプリが解決しようとしていること
- ※この欄は、このアプリが何か？を説明する用、マイルストーンの目安にする用、ほかいろいろな用途に使うつもり
- これまでの課題
    - 起動時間
        - たいていの格ゲーは起動してからトレモまでに1分くらいかかる
        - ほしいのは、0秒で、コントローラーのボタンを押したら即座にボタン表示が出るもの
            - このアプリはそれができる。常駐型。邪魔にならない。ボタンを押して1秒で最背面に戻る。
    - 格ゲーごとの操作に慣れる
        - たいていの格ゲーの操作チュートリアルは、
            - 説明パート（キャラを動かせない）と、操作パート（どの操作を学ぶかを素早く選べない）に分かれていたりする。あるいは操作パートがない。
            - クリアすると数秒間、操作できない時間帯が生じて、時間のロスになる。時間がかかりすぎる、テンポがよくない。
                - 入門時、手早く一通りのムーブを把握する用に使うには不足。
                - 入門時、1つずつのムーブをしっかり身につけるように使うには不足。
                - 日々のトレーニング時、素早くウォーミングアップする用には不足。
            - 日々のトレーニング用の素早くウォーミングアップするレシピがゲーム内に存在せず、自動で表示されず、自分でノートに書いてそれを目で見てトレモで自主練するという手作業が必要になる。
        - ほしいのは、基本操作、やや高度な操作（基本ムーブ）、さらに高度な操作（連携、コンボ）、について、
            - 反復mission、同じ操作を素早く繰り返して反復練習して身につけることができるモード
            - シーケンシャルmission、1つクリアごとに、待ち時間1秒以内で次の操作に進むことができるモード
            - ランダムmission、どんな局面になっても素早くそれに応じた操作を身につけることができるモード
            - 一度mission設定ファイルを作成すれば、いつでもアプリ内でそれが自動で表示されるもの
                - 自分でノートに書いてそれを目で見てトレモ自主練、をしなくても済む
                    - もちろん、より実戦的なものはトレモ等を活用する前提
                - shareすれば、自分でmissionを作らずとも、先人のmission定義でスムーズに学べる
            - このアプリはそれを目指す。
                - ただし実現可能な範囲に割り切る。仕様を絞る。万能ではない。トレモ等は活用する必要はある前提。

# 実戦 & トレモ との使い分け例
- ※あくまで一例です
- どのボタンがどのムーブか？すぐにわからない！という段階なら
    - このアプリでボタンに慣れる
- ボタンに慣れてきたら
    - トレモをやる
    - 実戦をやる
- 今スキマ時間でゲーム本体を起動できないが、せめてボタン練習だけでもやりたい！
    - このアプリでボタン練習する

# スコープ外
- 入力時間制限、レバーからボタンまで6フレ以内など
- 非常に高度なmission
- 豪華なグラフィック
- 豪華なサウンド（例、mission success ファンファーレ）
- 広範囲なコントローラー認識
- マルチプラットフォーム
- ブラウザアプリ化
- ブラウザアプリのタイピングアプリができること全て
